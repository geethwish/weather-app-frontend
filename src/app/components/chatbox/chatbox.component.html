<div class="flex flex-col flex-auto h-full p-6">
  <div
    class="flex flex-col flex-auto flex-shrink-0 rounded-2xl bg-white h-full p-4"
  >
    <div class="flex flex-col h-full overflow-x-auto mb-4">
      <div class="flex flex-col h-full">
        <div class="grid grid-cols-12 gap-y-2" *ngIf="messages.length > 0">
          @for (message of messages; track $index) {
          <div
            [ngClass]="{
              'col-start-1 col-end-8 p-3 rounded-lg': message.type === 'BOT',
              'col-start-6 col-end-13 p-3 rounded-lg': message.type === 'USER'
            }"
          >
            <app-chat-bubble
              [text]="message.message"
              [type]="message.type"
            ></app-chat-bubble>
          </div>
          }

          <div
            class="col-start-1 col-end-8 p-3 rounded-lg"
            *ngIf="loaderService.loading$ | async"
          >
            <div class="flex flex-row items-center">
              <div class="flex space-x-2 justify-center items-center bg-white">
                <span class="sr-only">Loading...</span>
                <div
                  class="h-2 w-2 bg-blue-600 rounded-full animate-bounce [animation-delay:-0.3s]"
                ></div>
                <div
                  class="h-2 w-2 bg-blue-600 rounded-full animate-bounce [animation-delay:-0.15s]"
                ></div>
                <div
                  class="h-2 w-2 bg-blue-600 rounded-full animate-bounce"
                ></div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <div
      class="flex flex-row items-center h-16 rounded-xl bg-white w-full px-4"
    >
      <div class="flex-grow ml-4">
        <div class="relative w-full">
          <input
            [(ngModel)]="chatInput"
            type="text"
            class="flex w-full border rounded-xl focus:outline-none focus:border-indigo-300 pl-4 h-10"
          />
        </div>
      </div>
      <div class="ml-4">
        <button
          class="flex items-center justify-center bg-indigo-500 hover:bg-indigo-600 rounded-xl text-white px-4 py-1 flex-shrink-0"
          (click)="handleSubmit()"
        >
          <span>Send</span>
          <span class="ml-2">
            <svg
              class="w-4 h-4 transform rotate-45 -mt-px"
              fill="none"
              stroke="currentColor"
              viewBox="0 0 24 24"
              xmlns="http://www.w3.org/2000/svg"
            >
              <path
                stroke-linecap="round"
                stroke-linejoin="round"
                stroke-width="2"
                d="M12 19l9 2-9-18-9 18 9-2zm0 0v-8"
              ></path>
            </svg>
          </span>
        </button>
      </div>
    </div>
  </div>
</div>

<div>
  <div>
    <div class="flex mt-4 mb-2">
      <div class="flex-1">
        <div
          class="text-gray-600 text-sm dark:text-gray-400"
          x-text="weatherData.location.name +', '+ weatherData.location.region"
        ></div>
        <div
          class="text-3xl font-bold text-gray-800 dark:text-gray-300"
          x-html="`${weatherData.current.temp_c} &deg;C`"
        ></div>
        <div
          x-text="weatherData.current.condition.text"
          class="text-xs text-gray-600 dark:text-gray-400"
        ></div>
      </div>
      <div class="w-24" *ngIf="weatherData.length > 0">
        <img
          [src]="'https:' + weatherData[0].day.condition.icon"
          alt="Nothing"
          loading="lazy"
        />
      </div>
    </div>

    <div
      class="w-full mt-16 lg:mt-64 lg:px-40 justify-center container mx-auto"
    >
      <div class="flex flex-wrap w-full lg:w-auto">
        <div
          class="w-full lg:w-1/2 flex rounded-lg bg-auto"
          style="
            background-image: url('https://images.unsplash.com/photo-1559963110-71b394e7494d?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=675&q=80');
          "
        >
          <div
            class="rounded-lg py-6 pl-8 pr-32 w-full bg-blue-400 opacity-90 text-white"
          >
            <div class="mb-20">
              <h2 class="font-bold text-3xl leading-none pb-1">Tuesday</h2>
              <h3 class="leading-none pb-2 pl-1">15 Jan 19</h3>
              <p class="flex aling-center opacity-75">[icon] París, FR</p>
            </div>
            <div>
              <svg
                class="w-16 mb-2"
                xmlns="http://www.w3.org/2000/svg"
                xmlns:xlink="http://www.w3.org/1999/xlink"
                version="1.1"
                viewBox="0 0 129 129"
                enable-background="new 0 0 129 129"
              >
                <g>
                  <path
                    d="m64.5,92.6c15.5,0 28-12.6 28-28s-12.6-28-28-28-28,12.6-28,28 12.5,28 28,28zm0-47.9c11,0 19.9,8.9 19.9,19.9 0,11-8.9,19.9-19.9,19.9s-19.9-8.9-19.9-19.9c0-11 8.9-19.9 19.9-19.9z"
                    data-original="#000000"
                    class="active-path"
                    data-old_color="#000000"
                    fill="#FFFFFF"
                  />
                  <path
                    d="m68.6,23.6v-12.9c0-2.3-1.8-4.1-4.1-4.1s-4.1,1.8-4.1,4.1v12.9c0,2.3 1.8,4.1 4.1,4.1s4.1-1.8 4.1-4.1z"
                    data-original="#000000"
                    class="active-path"
                    data-old_color="#000000"
                    fill="#FFFFFF"
                  />
                  <path
                    d="m60.4,105.6v12.9c0,2.3 1.8,4.1 4.1,4.1s4.1-1.8 4.1-4.1v-12.9c0-2.3-1.8-4.1-4.1-4.1s-4.1,1.8-4.1,4.1z"
                    data-original="#000000"
                    class="active-path"
                    data-old_color="#000000"
                    fill="#FFFFFF"
                  />
                  <path
                    d="m96.4,38.5l9.1-9.1c1.6-1.6 1.6-4.2 0-5.8-1.6-1.6-4.2-1.6-5.8,0l-9.1,9.1c-1.6,1.6-1.6,4.2 0,5.8 0.8,0.8 1.8,1.2 2.9,1.2s2.1-0.4 2.9-1.2z"
                    data-original="#000000"
                    class="active-path"
                    data-old_color="#000000"
                    fill="#FFFFFF"
                  />
                  <path
                    d="m23.5,105.6c0.8,0.8 1.8,1.2 2.9,1.2 1,0 2.1-0.4 2.9-1.2l9.1-9.1c1.6-1.6 1.6-4.2 0-5.8-1.6-1.6-4.2-1.6-5.8,0l-9.1,9.1c-1.6,1.6-1.6,4.2 0,5.8z"
                    data-original="#000000"
                    class="active-path"
                    data-old_color="#000000"
                    fill="#FFFFFF"
                  />
                  <path
                    d="m122.5,64.6c0-2.3-1.8-4.1-4.1-4.1h-12.9c-2.3,0-4.1,1.8-4.1,4.1 0,2.3 1.8,4.1 4.1,4.1h12.9c2.2,1.42109e-14 4.1-1.8 4.1-4.1z"
                    data-original="#000000"
                    class="active-path"
                    data-old_color="#000000"
                    fill="#FFFFFF"
                  />
                  <path
                    d="m10.6,68.7h12.9c2.3,0 4.1-1.8 4.1-4.1 0-2.3-1.8-4.1-4.1-4.1h-12.9c-2.3,0-4.1,1.8-4.1,4.1 0,2.3 1.9,4.1 4.1,4.1z"
                    data-original="#000000"
                    class="active-path"
                    data-old_color="#000000"
                    fill="#FFFFFF"
                  />
                  <path
                    d="m102.6,106.8c1,0 2.1-0.4 2.9-1.2 1.6-1.6 1.6-4.2 0-5.8l-9.1-9.1c-1.6-1.6-4.2-1.6-5.8,0-1.6,1.6-1.6,4.2 0,5.8l9.1,9.1c0.8,0.8 1.9,1.2 2.9,1.2z"
                    data-original="#000000"
                    class="active-path"
                    data-old_color="#000000"
                    fill="#FFFFFF"
                  />
                  <path
                    d="m38.4,38.5c1.6-1.6 1.6-4.2 0-5.8l-9.1-9.1c-1.6-1.6-4.2-1.6-5.8,0-1.6,1.6-1.6,4.2 0,5.8l9.1,9.1c0.8,0.8 1.8,1.2 2.9,1.2s2.1-0.4 2.9-1.2z"
                    data-original="#000000"
                    class="active-path"
                    data-old_color="#000000"
                    fill="#FFFFFF"
                  />
                </g>
              </svg>
              <strong class="leading-none text-6xl block font-weight-bolder"
                >29ºC</strong
              >
              <b class="text-2xl block font-bold">Sunny</b>
            </div>
          </div>
        </div>

        <div class="w-full lg:w-1/2 flex ml-0">
          <div
            class="lg:my-3 bg-gray-800 text-white p-8 lg:rounded-r-lg w-full"
          >
            <div class="flex justify-between w-64 mb-4 w-full">
              <div class="w-auto font-bold uppercase text-90">
                Precipitation
              </div>
              <div class="w-auto text-right">10 %</div>
            </div>
            <div class="flex justify-between w-64 mb-4 w-full">
              <div class="w-auto font-bold uppercase text-90">Humidity</div>
              <div class="w-auto text-right">29 %</div>
            </div>
            <div class="flex justify-between w-64 mb-8 w-full">
              <div class="w-auto font-bold uppercase text-90">Wind</div>
              <div class="w-auto text-right">12 Mph</div>
            </div>
            <div class="flex flex-row">
              <div
                class="flex flex-col w-1/4 bg-gray-100 text-black rounded-lg pb-4"
              >
                <div class="text-center pt-2 mb-2">
                  <svg
                    class="w-10 mx-auto"
                    xmlns="http://www.w3.org/2000/svg"
                    xmlns:xlink="http://www.w3.org/1999/xlink"
                    version="1.1"
                    viewBox="0 0 129 129"
                    enable-background="new 0 0 129 129"
                  >
                    <g>
                      <path
                        d="m64.5,92.6c15.5,0 28-12.6 28-28s-12.6-28-28-28-28,12.6-28,28 12.5,28 28,28zm0-47.9c11,0 19.9,8.9 19.9,19.9 0,11-8.9,19.9-19.9,19.9s-19.9-8.9-19.9-19.9c0-11 8.9-19.9 19.9-19.9z"
                        data-original="#000000"
                        class="active-path"
                        data-old_color="#000000"
                        fill="#000000"
                      />
                      <path
                        d="m68.6,23.6v-12.9c0-2.3-1.8-4.1-4.1-4.1s-4.1,1.8-4.1,4.1v12.9c0,2.3 1.8,4.1 4.1,4.1s4.1-1.8 4.1-4.1z"
                        data-original="#000000"
                        class="active-path"
                        data-old_color="#000000"
                        fill="#000000"
                      />
                      <path
                        d="m60.4,105.6v12.9c0,2.3 1.8,4.1 4.1,4.1s4.1-1.8 4.1-4.1v-12.9c0-2.3-1.8-4.1-4.1-4.1s-4.1,1.8-4.1,4.1z"
                        data-original="#000000"
                        class="active-path"
                        data-old_color="#000000"
                        fill="#000000"
                      />
                      <path
                        d="m96.4,38.5l9.1-9.1c1.6-1.6 1.6-4.2 0-5.8-1.6-1.6-4.2-1.6-5.8,0l-9.1,9.1c-1.6,1.6-1.6,4.2 0,5.8 0.8,0.8 1.8,1.2 2.9,1.2s2.1-0.4 2.9-1.2z"
                        data-original="#000000"
                        class="active-path"
                        data-old_color="#000000"
                        fill="#000000"
                      />
                      <path
                        d="m23.5,105.6c0.8,0.8 1.8,1.2 2.9,1.2 1,0 2.1-0.4 2.9-1.2l9.1-9.1c1.6-1.6 1.6-4.2 0-5.8-1.6-1.6-4.2-1.6-5.8,0l-9.1,9.1c-1.6,1.6-1.6,4.2 0,5.8z"
                        data-original="#000000"
                        class="active-path"
                        data-old_color="#000000"
                        fill="#000000"
                      />
                      <path
                        d="m122.5,64.6c0-2.3-1.8-4.1-4.1-4.1h-12.9c-2.3,0-4.1,1.8-4.1,4.1 0,2.3 1.8,4.1 4.1,4.1h12.9c2.2,1.42109e-14 4.1-1.8 4.1-4.1z"
                        data-original="#000000"
                        class="active-path"
                        data-old_color="#000000"
                        fill="#000000"
                      />
                      <path
                        d="m10.6,68.7h12.9c2.3,0 4.1-1.8 4.1-4.1 0-2.3-1.8-4.1-4.1-4.1h-12.9c-2.3,0-4.1,1.8-4.1,4.1 0,2.3 1.9,4.1 4.1,4.1z"
                        data-original="#000000"
                        class="active-path"
                        data-old_color="#000000"
                        fill="#000000"
                      />
                      <path
                        d="m102.6,106.8c1,0 2.1-0.4 2.9-1.2 1.6-1.6 1.6-4.2 0-5.8l-9.1-9.1c-1.6-1.6-4.2-1.6-5.8,0-1.6,1.6-1.6,4.2 0,5.8l9.1,9.1c0.8,0.8 1.9,1.2 2.9,1.2z"
                        data-original="#000000"
                        class="active-path"
                        data-old_color="#000000"
                        fill="#000000"
                      />
                      <path
                        d="m38.4,38.5c1.6-1.6 1.6-4.2 0-5.8l-9.1-9.1c-1.6-1.6-4.2-1.6-5.8,0-1.6,1.6-1.6,4.2 0,5.8l9.1,9.1c0.8,0.8 1.8,1.2 2.9,1.2s2.1-0.4 2.9-1.2z"
                        data-original="#000000"
                        class="active-path"
                        data-old_color="#000000"
                        fill="#000000"
                      />
                    </g>
                  </svg>
                </div>
                <div class="text-center">
                  <b class="font-normal">Tue</b><br />
                  <strong class="text-xl">29ºC</strong>
                </div>
              </div>

              <div class="flex flex-col w-1/4 bg-gray-900 rounded-lg">
                <div class="text-center pt-2 mb-2">
                  <svg
                    class="w-10 mx-auto"
                    xmlns="http://www.w3.org/2000/svg"
                    xmlns:xlink="http://www.w3.org/1999/xlink"
                    version="1.1"
                    id="Capa_1"
                    x="0px"
                    y="0px"
                    viewBox="0 0 33.062 33.062"
                    style="enable-background: new 0 0 33.062 33.062"
                    xml:space="preserve"
                  >
                    <path
                      d="M25.615,26.608H6.442C2.89,26.608,0,23.719,0,20.168c0-3.502,2.81-6.361,6.294-6.439c1.241-4.304,5.161-7.275,9.67-7.275   c3.736,0,7.101,2.023,8.866,5.306c0.26-0.026,0.522-0.04,0.784-0.04c4.106,0,7.446,3.339,7.446,7.443   C33.062,23.268,29.721,26.608,25.615,26.608z M6.527,14.732C3.437,14.732,1,17.17,1,20.168c0,2.999,2.441,5.439,5.442,5.439h19.173   c3.555,0,6.446-2.892,6.446-6.445c0-3.553-2.892-6.443-6.446-6.443c-0.314,0-0.63,0.022-0.939,0.066   c-0.229,0.063-0.469-0.046-0.574-0.259c-1.545-3.13-4.663-5.073-8.137-5.073c-4.183,0-7.803,2.839-8.804,6.904   c-0.056,0.228-0.278,0.372-0.498,0.381l-0.127-0.007C6.533,14.732,6.53,14.732,6.527,14.732z"
                      data-original="#000000"
                      class="active-path"
                      data-old_color="#000000"
                      fill="#FFFFFF"
                    />
                  </svg>
                </div>
                <div class="text-center">
                  <b class="font-normal">Wed</b><br />
                  <strong class="text-xl">21ºC</strong>
                </div>
              </div>
              <div class="flex flex-col w-1/4 bg-gray-900 rounded-lg">
                <div class="text-center pt-2 mb-2">
                  <svg
                    class="w-10 mx-auto"
                    xmlns="http://www.w3.org/2000/svg"
                    xmlns:xlink="http://www.w3.org/1999/xlink"
                    version="1.1"
                    id="Capa_1"
                    x="0px"
                    y="0px"
                    viewBox="0 0 33.062 33.062"
                    style="enable-background: new 0 0 33.062 33.062"
                    xml:space="preserve"
                  >
                    <path
                      d="M25.615,26.608H6.442C2.89,26.608,0,23.719,0,20.168c0-3.502,2.81-6.361,6.294-6.439c1.241-4.304,5.161-7.275,9.67-7.275   c3.736,0,7.101,2.023,8.866,5.306c0.26-0.026,0.522-0.04,0.784-0.04c4.106,0,7.446,3.339,7.446,7.443   C33.062,23.268,29.721,26.608,25.615,26.608z M6.527,14.732C3.437,14.732,1,17.17,1,20.168c0,2.999,2.441,5.439,5.442,5.439h19.173   c3.555,0,6.446-2.892,6.446-6.445c0-3.553-2.892-6.443-6.446-6.443c-0.314,0-0.63,0.022-0.939,0.066   c-0.229,0.063-0.469-0.046-0.574-0.259c-1.545-3.13-4.663-5.073-8.137-5.073c-4.183,0-7.803,2.839-8.804,6.904   c-0.056,0.228-0.278,0.372-0.498,0.381l-0.127-0.007C6.533,14.732,6.53,14.732,6.527,14.732z"
                      data-original="#000000"
                      class="active-path"
                      data-old_color="#000000"
                      fill="#FFFFFF"
                    />
                  </svg>
                </div>
                <div class="text-center">
                  <b class="font-normal">Thu</b><br />
                  <strong class="text-xl">18ºC</strong>
                </div>
              </div>
              <div class="flex flex-col w-1/4 bg-gray-900 rounded-lg">
                <div class="text-center pt-2 mb-2">
                  <svg
                    class="w-10 mx-auto"
                    xmlns="http://www.w3.org/2000/svg"
                    xmlns:xlink="http://www.w3.org/1999/xlink"
                    version="1.1"
                    viewBox="0 0 129 129"
                    enable-background="new 0 0 129 129"
                  >
                    <g>
                      <path
                        d="m64.5,92.6c15.5,0 28-12.6 28-28s-12.6-28-28-28-28,12.6-28,28 12.5,28 28,28zm0-47.9c11,0 19.9,8.9 19.9,19.9 0,11-8.9,19.9-19.9,19.9s-19.9-8.9-19.9-19.9c0-11 8.9-19.9 19.9-19.9z"
                        data-original="#000000"
                        class="active-path"
                        data-old_color="#000000"
                        fill="#FFFFFF"
                      />
                      <path
                        d="m68.6,23.6v-12.9c0-2.3-1.8-4.1-4.1-4.1s-4.1,1.8-4.1,4.1v12.9c0,2.3 1.8,4.1 4.1,4.1s4.1-1.8 4.1-4.1z"
                        data-original="#000000"
                        class="active-path"
                        data-old_color="#000000"
                        fill="#FFFFFF"
                      />
                      <path
                        d="m60.4,105.6v12.9c0,2.3 1.8,4.1 4.1,4.1s4.1-1.8 4.1-4.1v-12.9c0-2.3-1.8-4.1-4.1-4.1s-4.1,1.8-4.1,4.1z"
                        data-original="#000000"
                        class="active-path"
                        data-old_color="#000000"
                        fill="#FFFFFF"
                      />
                      <path
                        d="m96.4,38.5l9.1-9.1c1.6-1.6 1.6-4.2 0-5.8-1.6-1.6-4.2-1.6-5.8,0l-9.1,9.1c-1.6,1.6-1.6,4.2 0,5.8 0.8,0.8 1.8,1.2 2.9,1.2s2.1-0.4 2.9-1.2z"
                        data-original="#000000"
                        class="active-path"
                        data-old_color="#000000"
                        fill="#FFFFFF"
                      />
                      <path
                        d="m23.5,105.6c0.8,0.8 1.8,1.2 2.9,1.2 1,0 2.1-0.4 2.9-1.2l9.1-9.1c1.6-1.6 1.6-4.2 0-5.8-1.6-1.6-4.2-1.6-5.8,0l-9.1,9.1c-1.6,1.6-1.6,4.2 0,5.8z"
                        data-original="#000000"
                        class="active-path"
                        data-old_color="#000000"
                        fill="#FFFFFF"
                      />
                      <path
                        d="m122.5,64.6c0-2.3-1.8-4.1-4.1-4.1h-12.9c-2.3,0-4.1,1.8-4.1,4.1 0,2.3 1.8,4.1 4.1,4.1h12.9c2.2,1.42109e-14 4.1-1.8 4.1-4.1z"
                        data-original="#000000"
                        class="active-path"
                        data-old_color="#000000"
                        fill="#FFFFFF"
                      />
                      <path
                        d="m10.6,68.7h12.9c2.3,0 4.1-1.8 4.1-4.1 0-2.3-1.8-4.1-4.1-4.1h-12.9c-2.3,0-4.1,1.8-4.1,4.1 0,2.3 1.9,4.1 4.1,4.1z"
                        data-original="#000000"
                        class="active-path"
                        data-old_color="#000000"
                        fill="#FFFFFF"
                      />
                      <path
                        d="m102.6,106.8c1,0 2.1-0.4 2.9-1.2 1.6-1.6 1.6-4.2 0-5.8l-9.1-9.1c-1.6-1.6-4.2-1.6-5.8,0-1.6,1.6-1.6,4.2 0,5.8l9.1,9.1c0.8,0.8 1.9,1.2 2.9,1.2z"
                        data-original="#000000"
                        class="active-path"
                        data-old_color="#000000"
                        fill="#FFFFFF"
                      />
                      <path
                        d="m38.4,38.5c1.6-1.6 1.6-4.2 0-5.8l-9.1-9.1c-1.6-1.6-4.2-1.6-5.8,0-1.6,1.6-1.6,4.2 0,5.8l9.1,9.1c0.8,0.8 1.8,1.2 2.9,1.2s2.1-0.4 2.9-1.2z"
                        data-original="#000000"
                        class="active-path"
                        data-old_color="#000000"
                        fill="#FFFFFF"
                      />
                    </g>
                  </svg>
                </div>
                <div class="text-center">
                  <b class="font-normal">Fri</b><br />
                  <strong class="text-xl">25ºC</strong>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
